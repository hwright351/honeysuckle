<!doctype HTML>

  <!-- https://blog.theodo.com/2018/09/build-first-ar-web-app-less-10mn/ --> 
  
<html>

  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- we import arjs version without NFT but with marker + location based support -->
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.5/aframe/build/aframe-ar.js"> </script>
  
<!--   https://github.com/supermedium/superframe/tree/master/components/look-at/ -->
 <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
 
  </head>
  
  <body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs='trackingMethod: best;'>
      
      
     <a-assets>
      <a-asset-item id="honeysuckle-animation" src="honeysuckle-animation.glb"></a-asset-item>
        <a-asset-item id="honeysuckle" src="honeysuckle.gltf"></a-asset-item>
       <video id="test_vid" autoplay loop="true" src="test_vid.mov"></video>
       <img id="test_graphic" src="test_graphic.png"> 
       
    </a-assets>
      
<!--       HIRO : Not moving, HIRO marker -->
<!--   	<a-marker preset="hiro">
      <a-entity scale="0 -1.5 -1.5" gltf-model="#honeysuckle">
      </a-entity>
  	</a-marker> -->

<!--       PATTERN 01 : Animated, custom marker -->
     <a-marker type='pattern' url='https://raw.githubusercontent.com/rosen-stern/honeysuckle/main/pattern-honeysuckle-01.patt'>
      <a-entity position="0 0 0" scale="0.20 0.20 0.20" gltf-model="#honeysuckle">
      </a-entity>
  	</a-marker>
        
 <!--       PATTERN 02 : Not animated, custom marker -->
  	<a-marker type='pattern' url='https://raw.githubusercontent.com/rosen-stern/honeysuckle/main/pattern-honeysuckle-02.patt'>
      <a-entity position="0 0 0" scale="0.20 0.20 0.20" gltf-model="#honeysuckle">
      </a-entity>
  	</a-marker>


<!--       PATTERN 03 : Not animated, custom marker -->
<!--       https://github.com/supermedium/superframe/tree/master/components/look-at/ -->
<!-- position="0 -1.5 -1.5" -->
  	<a-marker type='pattern' url='https://raw.githubusercontent.com/rosen-stern/honeysuckle/main/pattern-honeysuckle-03.patt' id="marker-03">
      <a-entity position="0 0 0" scale="0.20 0.20 0.20" gltf-model="#honeysuckle"></a-entity>
       <a-entity position="0 0 0" rotation="0 45 0" scale="2 2 2" text="value: Honey suckles do things! Isn't that cool?;color:#FFFFFF" look-at="[camera]"></a-entity>
  	</a-marker>
        
      <a-marker-camera preset='kanji'>
        <a-video src="#test_vid" position="0 0 0" rotation="45 180 0"> scale=".2 .2 .2" </a-video>
        </a-marker-camera>
      
       <a-marker-camera preset='hiro'>
        <a-image src="#test_graphic" position="0 0 0" rotation= "90 90 0"></a-image>
        </a-marker-camera>
        
    </a-scene>
  </body>  
  
  
  
  
    <script>

// https://stackoverflow.com/questions/51363819/how-to-load-or-play-video-playback-when-the-marker-is-detected-hiro
      
      //trying to detect 2 markers to make a "garden"
      //below doesn't work
      
      AFRAME.registerComponent('garden', {
  init: function () {
    this.toggle = false;

    console.log("-----------------------------------------------------loaded!");
  },
  tick:function(){  
   if(document.querySelector("#marker-03").object3D.visible == true){

     console.log("visible!");
     
   }else{

     
     console.log("NOT visible!");
     
   }
  }
});
      
      
  </script>

  
  
</html>
